(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-604c616c"],{"159b":function(t,s,a){var e=a("da84"),i=a("fdbc"),c=a("17c2"),n=a("9112");for(var r in i){var l=e[r],o=l&&l.prototype;if(o&&o.forEach!==c)try{n(o,"forEach",c)}catch(m){o.forEach=c}}},"17c2":function(t,s,a){"use strict";var e=a("b727").forEach,i=a("a640"),c=a("ae40"),n=i("forEach"),r=c("forEach");t.exports=n&&r?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,s,a){"use strict";var e=a("23e7"),i=a("17c2");e({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"4de4":function(t,s,a){"use strict";var e=a("23e7"),i=a("b727").filter,c=a("1dde"),n=a("ae40"),r=c("filter"),l=n("filter");e({target:"Array",proto:!0,forced:!r||!l},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},7113:function(t,s,a){"use strict";a("e4e8")},"766b":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{on:{click:function(s){t.showMember=!1}}},[t._v(" "+t._s(t.status)+t._s(t.ctx.id)+" "),e("el-container",[e("el-container",[e("el-main",[e("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":t.changeTab,"tab-remove":t.removeTab},model:{value:t.activeTab,callback:function(s){t.activeTab=s},expression:"activeTab"}},t._l(t.msgTabs,(function(s){return e("el-tab-pane",{key:s.name,ref:s.title,refInFor:!0,attrs:{label:s.title,name:s.name}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:0}}},[e("div",{staticClass:"chatName",attrs:{slot:"header"},on:{click:function(t){t.stopPropagation()}},slot:"header"},[t._v("萧忆情 "),e("span",{staticStyle:{cursor:"pointer"}},[t.showMember?e("i",{staticClass:"el-icon-arrow-up",on:{click:function(s){t.showMember=!1}}}):e("i",{staticClass:"el-icon-arrow-down",on:{click:function(s){t.showMember=!0}}})])]),e("div",{staticClass:"chatCtx"},[t._l(t.messages,(function(s,i){return e("div",{key:i},[s.id==t.$store.state.user._id?e("div",{staticClass:"myCtx"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{domProps:{textContent:t._s(s.msg)}})]):e("div",{staticClass:"otherCtx"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{domProps:{textContent:t._s(s.msg)}})])])})),t.showMember?e("div",{staticClass:"members",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"member",on:{click:t.addTab}},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])]),e("div",{staticClass:"member"},[e("img",{attrs:{src:a("927c"),alt:""}}),e("div",{staticClass:"memberName"},[t._v("益酬勤")])])]):t._e()],2),e("div",{staticClass:"chatInput"},[e("div",{staticClass:"tools"},[e("i",{staticClass:"el-icon-picture-outline-round"}),e("i",{staticClass:"el-icon-folder-opened"}),e("i",{staticClass:"el-icon-scissors"}),e("i",{staticClass:"el-icon-chat-dot-round"}),e("i",{staticClass:"el-icon-video-camera-solid"})]),e("el-input",{attrs:{resize:"none",type:"textarea"},on:{change:t.sendInput},model:{value:t.ctx.msg,callback:function(s){t.$set(t.ctx,"msg",s)},expression:"ctx.msg"}}),e("div",[e("el-tag",{attrs:{effect:"dark",type:"info"},on:{click:t.send}},[t._v("发送(回车)")])],1)],1)])],1)})),1)],1)],1),e("el-aside",{attrs:{width:"300px"}},[e("el-card",[e("header",[e("div",{staticClass:"img"},[e("img",{attrs:{src:a("927c"),alt:""}})]),e("div",{staticClass:"username"},[t._v("啊卓")])]),e("el-tabs",{attrs:{stretch:""},model:{value:t.isactive,callback:function(s){t.isactive=s},expression:"isactive"}},[e("el-tab-pane",{attrs:{name:"first"}},[e("i",{staticClass:"iconfont icon-user",attrs:{slot:"label"},slot:"label"}),e("div",{staticClass:"main"},[e("el-collapse",[e("el-collapse-item",[e("template",{slot:"title"},[t._v(" 列表1 ")]),e("div",{staticClass:"friend",on:{click:function(s){return t.addTab("item",0)}}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:a("927c"),alt:""}})]),e("div",{staticClass:"username"},[t._v("啊卓")])]),e("div",{staticClass:"friend",on:{click:t.addTab}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:a("927c"),alt:""}})]),e("div",{staticClass:"username"},[t._v("啊卓")])]),e("div",{staticClass:"friend",on:{click:t.addTab}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:a("927c"),alt:""}})]),e("div",{staticClass:"username"},[t._v("啊卓")])])],2),e("el-collapse-item",[e("template",{slot:"title"},[t._v(" 列表2 ")]),e("div",[t._v("sdfsdfsdf")]),e("div",[t._v("sdfsdfsdf")]),e("div",[t._v("sdfsdfsdf")])],2),e("el-collapse-item",[e("template",{slot:"title"},[t._v(" 列表3 ")]),e("div",[t._v("sdfsdfsdf")]),e("div",[t._v("sdfsdfsdf")]),e("div",[t._v("sdfsdfsdf")])],2)],1)],1)]),e("el-tab-pane",{attrs:{name:"second"}},[e("i",{staticClass:"iconfont icon-qunliao",attrs:{slot:"label"},slot:"label"}),e("div",{staticClass:"main"},[t._v("s")])]),e("el-tab-pane",{attrs:{name:"third"}},[e("i",{staticClass:"iconfont icon-xinxi",attrs:{slot:"label"},slot:"label"}),e("div",{staticClass:"main"},[t._v("kk")])])],1),null===t.isactive?e("main",[e("el-card",[t._v(" 无搜索内容 ")])],1):t._e(),e("footer",[t.isSearch?e("div",[e("el-input",{attrs:{placeholder:"请输入需要查找的好友或群聊"},on:{input:t.search},model:{value:t.searchCtx,callback:function(s){t.searchCtx=s},expression:"searchCtx"}},[e("i",{staticClass:"el-icon-error",attrs:{slot:"append"},on:{click:function(s){t.isSearch=!1,t.isactive="first",t.searchCtx=""}},slot:"append"})])],1):e("div",[e("i",{staticClass:"iconfont icon-chazhao",on:{click:function(s){t.isSearch=!0}}}),e("i",{staticClass:"iconfont icon-shengyin"}),e("i",{staticClass:"iconfont icon-tianjia"}),e("i",{staticClass:"iconfont icon-kefu"}),e("i",{staticClass:"iconfont icon-icon"})])])],1)],1)],1)],1)},i=[];a("4de4"),a("4160"),a("45fc"),a("b0c0"),a("498a"),a("159b");function c(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}var n={data:function(){var t;return{socket:null,messages:[],status:null,ctx:{id:null,login:null,to:null,myself:{id:this.$store.state.user._id,myImg:null},msg:""},isactive:"first",isSearch:!1,searchCtx:"",msgTabs:[(t={id:"5fccf9339e7edc2d54a3c95c",type:0,title:"Tab 1",name:"1"},c(t,"type",""),c(t,"content","Tab 1 content"),t),{id:"5fc85e78e24ba247040a096e",type:0,title:"Tab 2",name:"2",content:"Tab 2 content"}],activeTab:"1",showMember:!1}},mounted:function(){this.openWs()},methods:{search:function(t){this.isactive=null},removeTab:function(t){var s=this;this.activeTab===t&&this.msgTabs.forEach((function(a,e){if(a.name===t){var i=s.msgTabs[e+1]||s.msgTabs[e-1];i&&(s.activeTab=i.name)}})),this.msgTabs=this.msgTabs.filter((function(s){return s.name!==t}))},openWs:function(){var t=this;window.WebSocket||(window.WebSocket=window.MozWebSocket),window.WebSocket?(this.socket=new WebSocket("ws://localhost:8225/ws"),this.socket.onmessage=function(s){t.messages.push(JSON.parse(s.data)),console.log(JSON.parse(s.data))},this.socket.onopen=function(s){t.status="连接开启"},this.socket.onclose=function(s){t.status="连接被关闭"}):alert("你的浏览器不支持WebSocket!")},send:function(){window.WebSocket?(this.socket.readyState==WebSocket.OPEN?""==this.ctx.msg.trim()&&0==this.ctx.login?alert("发送消息不能为空"):this.socket.send(JSON.stringify(this.ctx)):alert("连接没有开启"),this.ctx.msg=""):alert("你的浏览器不支持WebSocket!")},changeTab:function(t){var s=this;console.log("触发"),this.ctx.login=!0,this.msgTabs.some((function(t){if(t.name==s.activeTab)return 0==t.type?(s.ctx.id=s.$store.state.user._id+"-"+t.id,s.ctx.to=t.id+"-"+s.$store.state.user._id):(s.ctx.id=t.id,s.ctx.to=t.id),!0})),console.log(this.ctx.id),this.send(),this.ctx.login=!1},addTab:function(t,s){this.msgTabs.push({id:"222",type:0,title:"Tab 3",name:"3",content:"Tab 3 content"}),this.activeTab="3",this.changeTab()},sendInput:function(){}},beforeDestory:function(){this.socket.onclose()}},r=n,l=(a("7113"),a("2877")),o=Object(l["a"])(r,e,i,!1,null,"5284bf45",null);s["default"]=o.exports},"927c":function(t,s,a){t.exports=a.p+"static/img/cat.8579e77c.jpg"},e4e8:function(t,s,a){},fdbc:function(t,s){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-604c616c.8938769a.js.map